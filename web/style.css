:root{
  --bg: #0f1724;
  --panel: rgba(255,255,255,0.04);
  --accent: #6ee7b7;
  --muted: #9aa4b2;
  --card: #ffffff;
}

*{box-sizing:border-box}
html,body{height:100%; width:100%;}
body{
  margin:0;
  font-family: Inter, Roboto, Arial, Helvetica, sans-serif;
  /* simpler, even background to avoid a centered strip artifact */
  background: linear-gradient(180deg, #07121a 0%, #041022 100%);
  color: #e6eef6;
  -webkit-font-smoothing:antialiased;
}

#ui{
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  z-index: 20;
  width: 380px;
  max-width: calc(100% - 32px);
  padding: 16px;
  background: var(--panel);
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.6);
  backdrop-filter: blur(6px);
}

/* Hero / landing styles for index.html */
.hero{ width:100%; height:100vh; display:flex; align-items:center; justify-content:center; background: linear-gradient(180deg,var(--bg) 0%, #041223 100%); }
.hero-inner{ width:100%; max-width:820px; margin:0 20px; padding:24px; background: rgba(255,255,255,0.02); border-radius:12px; box-shadow: 0 12px 30px rgba(4,8,16,0.5); display:flex; gap:20px; align-items:center; }
.hero-header{ flex:1; color:var(--card); }
.hero-title{ margin:0 0 6px 0; font-size:30px; letter-spacing:-0.4px; line-height:1.02 }
.hero-sub{ margin:0 0 12px 0; color:var(--muted); font-size:13px }
.hero-controls{ width:360px; }
.control-row{ margin-bottom:12px }
.control-actions{ display:flex; gap:10px }
.status-line{ margin-top:8px; color:var(--muted); font-size:13px }

/* Generic button styles used across index/game UI */
.btn{ display:inline-block; padding:10px 14px; border-radius:10px; border:1px solid rgba(255,255,255,0.04); background: linear-gradient(180deg,#0f1b28,#08121a); color:#eaf6f1; cursor:pointer; font-weight:700; transition: transform .12s ease, box-shadow .12s ease }
.btn:hover{ transform: translateY(-2px); box-shadow: 0 8px 26px rgba(8,12,22,0.28) }
.btn-primary{ background: linear-gradient(180deg,#2a6cff,#0d57c8); border-color: rgba(30,120,220,0.1); color:#fff; box-shadow: 0 8px 22px rgba(13,99,208,0.08) }


#landing input, #landing button{
  width:100%;
  padding:10px 12px;
  margin:6px 0;
  border-radius:6px;
  border:1px solid rgba(255,255,255,0.06);
  background: rgba(255,255,255,0.02);
  color: #eaf6f1;
  font-size:14px;
}

#landing button{
  cursor:pointer;
  background: linear-gradient(180deg,#2b3748,#1b2431);
  border: 1px solid rgba(255,255,255,0.04);
}

#status{ margin-top:6px; font-size:13px; color:var(--accent); }

#canvas-container{ position: absolute; inset:0; }
/* ensure canvas container does not interfere with index layout when hidden */
#canvas-container[style*="display: none"] { display: none !important }

#player-row{ display:flex; gap:10px; align-items:center; }
#player-name-wrapper{ flex:1 }
#player_id_display{ min-width:120px; font-size:13px; color:var(--muted); text-align:center }

/* small screen responsive */
@media(max-width:720px){
  #ui{ width: calc(100% - 24px); left:50%; transform: translate(-50%, -50%); }
}

/* Modal styles */
.hidden{ display:none }
.modal{ position:fixed; inset:0; display:flex; align-items:center; justify-content:center; z-index:99999 }
.modal-backdrop{ position:fixed; inset:0; background: rgba(6,10,18,0.56); backdrop-filter: blur(6px); }
.modal-card{ position:relative; z-index:100000; width:420px; max-width:calc(100% - 40px); padding:20px; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:12px; box-shadow:0 18px 40px rgba(2,6,18,0.6); border:1px solid rgba(255,255,255,0.04); transform: translateY(10px); opacity:0; transition: transform .18s ease, opacity .18s ease; }
.modal:not(.hidden) .modal-card{ transform: translateY(0); opacity:1 }
.modal-card h3{ margin:0 0 8px 0; font-size:18px }
.modal-card p{ margin:0 0 10px 0; color:var(--muted); font-size:13px }
.modal-card input{ width:100%; padding:10px; border-radius:8px; border:1px solid rgba(255,255,255,0.06); background: rgba(255,255,255,0.02); color:var(--card) }
.modal-card .actions{ display:flex; gap:8px; margin-top:12px }
.modal-card button{ flex:1; padding:10px 12px; border-radius:8px; }

/* modal close button */
.modal-close{ position:absolute; right:10px; top:10px; width:36px; height:36px; border-radius:8px; background: transparent; color:var(--muted); border:1px solid rgba(255,255,255,0.04); cursor:pointer; font-size:20px; line-height:1; display:flex; align-items:center; justify-content:center }
.modal-close:hover{ background: rgba(255,255,255,0.02); color:var(--card) }

/* Join list rows */
#join_list{ width:100%; box-sizing:border-box }
#join_list .join-row{ display:flex; align-items:center; justify-content:space-between; gap:12px; padding:8px 10px; border-radius:8px; background: rgba(255,255,255,0.01); margin-bottom:8px; }
#join_list .join-row .name{ color:var(--card); font-weight:600; flex:1 1 auto; text-align:left; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
#join_list .join-row button{ padding:6px 12px; border-radius:6px; flex:0 0 auto; min-width:56px; }

/* Ensure the card inside modals does not scale on hover and fits the modal width */
.modal-card .card{ width:100%; max-width:100%; box-sizing:border-box; cursor:default; }
.modal-card .card:hover{ transform: none; box-shadow: 0 10px 30px rgba(2,6,23,0.6); }

/* Join card size and responsive cap */
.join-card-large{ width:100%; max-width:520px; padding:18px 14px 16px 14px; box-sizing:border-box; min-height:200px }

/* small icon button used for refresh inside the join card */
.join-card-large{ position:relative }
.join-card-large .icon-btn{ position: absolute; right:12px; top:10px; width:34px; height:34px; border-radius:8px; border:1px solid rgba(255,255,255,0.04); background: rgba(255,255,255,0.02); display:flex; align-items:center; justify-content:center; color:var(--muted); cursor:pointer }
.join-card-large .icon-btn svg{ display:block; color:var(--muted) }
.join-card-large .icon-btn:hover{ background: rgba(255,255,255,0.03); color:var(--card); border-color: rgba(255,255,255,0.08) }

/* make room at top so icon doesn't overlap the list */
.join-card-large #join_list{ margin-top:12px }

/* ensure hidden state overrides modal display */
.modal.hidden{ display:none !important }

/* simple visual for Phaser cards rendered as rectangles */
.ph-card{ background:#fff; color:#000; padding:8px 12px; border-radius:8px }

/* Game page styles */
#game-root{ height:100vh; display:flex; flex-direction:column; background: linear-gradient(180deg,#061025 0%, #07121a 100%); color:#e6eef6; }
.game-topbar{ display:flex; align-items:center; justify-content:space-between; padding:14px 20px; background: rgba(0,0,0,0.18); border-bottom:1px solid rgba(255,255,255,0.03); }
.game-topbar .left, .game-topbar .right{ display:flex; align-items:center; }
.game-topbar .right .btn{ margin-left:10px; padding:8px 12px; border-radius:8px; border:1px solid rgba(255,255,255,0.06); font-weight:700; cursor:pointer; background: linear-gradient(180deg,#16202a,#0d1419); color:var(--card); }
.game-topbar .right .btn:hover{ transform: translateY(-2px); }
.game-topbar .right .btn.btn-exit{ background: linear-gradient(180deg,#6b2230,#4b121f); border-color: rgba(255,100,100,0.12); box-shadow: 0 6px 18px rgba(75,18,31,0.45); }
.game-topbar .right .btn.btn-ready{ background: linear-gradient(180deg,#1f3b2f,#123023); border-color: rgba(110,231,183,0.12); box-shadow: 0 6px 18px rgba(24,64,48,0.45); color: var(--accent); }
.game-topbar .right .btn.btn-ready.ready{ background: linear-gradient(180deg,#2dd38a,#10a86a); color:#042014; box-shadow: 0 10px 28px rgba(16,168,106,0.28); transform: translateY(-1px); }
.game-main{ display:flex; flex:1; padding:18px; gap:18px; }
.game-canvas{ flex:1; display:flex; align-items:center; justify-content:center; background: linear-gradient(180deg,#0a0f16, #07121a); border-radius:12px; box-shadow: 0 20px 50px rgba(0,0,0,0.6); min-height:320px; overflow:visible }
.game-canvas{ position:relative; }
.game-sidebar{ width:320px; }
.panel{ background: rgba(255,255,255,0.02); padding:12px; border-radius:10px; margin-bottom:12px; }

/* Card styles */
.card{ width:200px; height:120px; border-radius:12px; display:flex; align-items:center; justify-content:center; box-shadow: 0 8px 20px rgba(2,6,23,0.6); transition: transform .18s ease, box-shadow .18s ease; cursor:pointer; user-select:none; }
.card:hover{ transform: translateY(-6px) scale(1.02); box-shadow: 0 18px 40px rgba(2,6,23,0.8); }
.card.white{ background: #fff; color:#111; border: 1px solid rgba(0,0,0,0.06); }
.card.white .content{ padding:14px; font-weight:600 }
.card.black{ background: #0b0b0b; color:#fff; border: 1px solid rgba(255,255,255,0.04); }
.card.black .content{ padding:20px; text-align:center; font-size:18px; line-height:1.3 }

/* flipping animation */
.card.flipping{ transform: rotateY(180deg) translateY(-6px) scale(1.02); transition: transform .38s ease; }
.card.submitting{ pointer-events: none; }

/* deal animation */
.card.dealt{ animation: deal-in .45s cubic-bezier(.2,.9,.2,1); }
@keyframes deal-in {
  from { transform: translateY(-36px) scale(.96); opacity: 0 }
  to { transform: translateY(0) scale(1); opacity: 1 }
}

/* animation for a single drawn card (from deck) */
.card.drawn{ animation: deal-in .45s cubic-bezier(.2,.9,.2,1); }

/* flying card (deck -> hand) */
.fly-card{ position:fixed; border-radius:10px; box-shadow: 0 20px 50px rgba(0,0,0,0.6); pointer-events:none; transform-origin:center center; }
.hidden-during-fly{ opacity:0 !important }

.hand-cards{ display:flex; gap:12px; align-items:center; padding:8px; }
.hand-cards .card{ width:140px; height:86px; font-size:14px }

/* deck mini representations */
.deck{ width:68px; height:92px; border-radius:8px; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:6px; font-size:12px }
.white-deck{ background: linear-gradient(180deg,#fff,#f0f0f0); color:#0b0b0b; border:1px solid rgba(0,0,0,0.06); box-shadow:0 6px 18px rgba(0,0,0,0.5); }
.black-deck{ background: linear-gradient(180deg,#0b0b0b,#151515); color:#fff; border:1px solid rgba(255,255,255,0.04); box-shadow:0 6px 18px rgba(0,0,0,0.8); }
.deck-count{ font-weight:700; font-size:18px }
.deck-label{ font-size:11px; opacity:0.85 }

/* black card in the canvas with centered text */
#g_canvas .black-card-large{ position:relative; z-index:10; width:520px; max-width:90%; height:260px; border-radius:14px; display:flex; align-items:center; justify-content:center; background: linear-gradient(180deg,#0b0b0b,#161616); color:#fff; padding:26px; box-shadow: 0 30px 80px rgba(0,0,0,0.8); border:1px solid rgba(255,255,255,0.04); font-size:22px; text-align:center }

/* decks inside canvas: small deck widgets positioned above the table (show counts only) */
.canvas-decks{ position:absolute; left:28px; top:50%; transform: translateY(-50%); display:flex; flex-direction:column; gap:12px; align-items:center; z-index:20 }
.canvas-decks .deck{ width:62px; height:84px }
.canvas-decks .deck .deck-count{ font-size:16px }
/* hide label and textual previews inside the canvas decks so only numbers appear */
.canvas-decks .deck .deck-label,
.canvas-decks .deck .deck-preview{ display:none }

.table-cards{ position:absolute; left:50%; top:58%; transform: translate(-50%, 8px); display:flex; gap:16px; pointer-events:auto; z-index:30 }
.table-cards .card.table-card{ width:160px; min-height:72px; font-size:14px; box-shadow: 0 12px 30px rgba(2,6,23,0.6); display:flex; align-items:center; justify-content:center; padding:8px; border-radius:10px }
.table-cards .card.table-card.white{ background:#fff; color:#111 }
.table-cards .card.table-card.black{ background:#0b0b0b; color:#fff }
.table-cards .card.table-card .content{ padding:6px 8px; text-align:center; font-size:13px; color:inherit }
.table-cards .card.table-card:hover{ transform: translateY(-6px); box-shadow: 0 20px 40px rgba(0,0,0,0.6) }

/* destaque visual para a carta que o jogador votou: escurece e reduz brilho */
.table-cards .card.voted{ filter: brightness(0.65); opacity: 0.85; box-shadow: inset 0 0 0 2px rgba(0,0,0,0.06); }

/* the current player's submitted card shown near the table (below the black card) */
.your-submission{ position:absolute; left:50%; top:100%; transform: translate(-50%, -50%); z-index:36; display:flex; align-items:center; justify-content:center }
.your-submission .card{ width:140px; height:90px; box-shadow: 0 10px 30px rgba(0,0,0,0.6); border-radius:10px }
.your-submission .card .content{ padding:10px; font-size:14px; text-align:center }

/* deck textual previews */
.deck-preview{ margin-top:6px; max-height:64px; overflow:hidden; text-overflow:ellipsis; }
.deck-preview.white-preview{ color:#0b0b0b; font-size:11px; text-align:left; padding:4px; }
.deck-preview.black-preview{ color:#fff; font-size:11px; text-align:left; padding:4px; }
.deck-preview .preview-line{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; opacity:0.95; }

/* Table seats (poker-style) */
.table-surface{ position: absolute; inset:0; display:block; pointer-events:none }
#table_seats{ position:absolute; inset:0; pointer-events:none; z-index:40 }
.table-seat{ position:absolute; transform: translate(-50%,-50%); width:140px; display:flex; align-items:center; gap:8px; pointer-events:auto }
.table-seat.you { outline: 2px solid var(--accent); border-radius:10px; padding:6px; background: rgba(255,255,255,0.02); }
.seat-avatar{ width:44px; height:44px; border-radius:50%; background:linear-gradient(180deg,#5470ff,#2b3e9a); color:#fff; display:flex; align-items:center; justify-content:center; font-weight:700; box-shadow:0 6px 18px rgba(0,0,0,0.5); }
.seat-label{ display:flex; flex-direction:column; color:#eaf6f1; font-size:13px }
.seat-name{ font-weight:700; font-size:13px }

/* smaller screens: reduce seat size */
@media(max-width:720px){
  .table-seat{ width:110px }
  .seat-avatar{ width:36px; height:36px }
}

/* players sidebar removed; previous #g_players styles removed */

/* Footer hand: center heading and cards */
.game-footer{ padding:16px 18px 28px 18px; }
.game-footer .hand{ display:flex; flex-direction:column; align-items:center; gap:10px; max-width:100%; }
.game-footer .hand h4{ margin:0; font-size:15px; color:var(--muted); text-align:center }
.game-footer #g_hand{ display:flex; justify-content:center; width:100%; }
.game-footer #g_hand .hand-cards{ justify-content:center; }

/* responsive */
@media(max-width:900px){ .game-sidebar{ display:none } .hand-cards{ overflow:auto } }
